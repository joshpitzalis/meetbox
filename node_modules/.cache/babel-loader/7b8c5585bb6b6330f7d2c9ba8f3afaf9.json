{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _Object$entries from \"@babel/runtime-corejs2/core-js/object/entries\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport { format } from \"date-fns\";\nimport React from \"react\";\nimport Layout from \"../../components/Layout\";\nimport { selectTime } from \"../../features/schedule/helpers/actions\";\nimport { convertToTimeInterval } from \"../../features/schedule/helpers/timeBarHelpers\";\nimport firebase from \"../../sideEffects/firebase\";\nvar propTypes = {};\nvar defaultProps = {};\n\nvar getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(url) {\n    var slug, meetings;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            slug = url.query.slug;\n            _context.next = 3;\n            return firebase.firestore().collection(\"meetings\").doc(slug).onSnapshot(function (doc) {\n              return doc.exists && doc.data();\n            });\n\n          case 3:\n            meetings = _context.sent;\n            return _context.abrupt(\"return\", {\n              meetings: meetings\n            });\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function getInitialProps(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default function index(_ref2) {\n  var meetings = _ref2.meetings,\n      url = _ref2.url;\n\n  var options = _Object$entries(JSON.parse(meetings.options));\n\n  var slug = url.query.slug;\n  console.log(\"meetings\", meetings);\n  return React.createElement(Layout, null, React.createElement(\"h1\", {\n    className: \"f1 tc\"\n  }, \"Pick a time...\"), React.createElement(\"section\", {\n    className: \"flex items-center justify-center\"\n  }, options && options.map(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        date = _ref4[0],\n        time = _ref4[1];\n\n    return time.map(function (time) {\n      return React.createElement(TimeBox, {\n        date: date,\n        time: time,\n        slug: slug\n      });\n    });\n  })));\n}\nindex.propTypes = propTypes;\nindex.defaultProps = defaultProps;\nindex.getInitialProps = getInitialProps;\n\nvar TimeBox = function TimeBox(_ref5) {\n  var date = _ref5.date,\n      time = _ref5.time,\n      slug = _ref5.slug;\n  return React.createElement(\"article\", {\n    className: \"mw5  center bg-white br3 pa3 pa4-ns mv3 ba b--black-10 pointer grow\",\n    key: date + time,\n    onClick: function onClick() {\n      return selectTime(date, time, slug);\n    }\n  }, React.createElement(\"div\", {\n    className: \"tc\"\n  }, React.createElement(\"h1\", {\n    className: \"f4 black-70\"\n  }, format(new Date(date), \"do MMMM\")), React.createElement(\"hr\", {\n    className: \"mw3 bb bw1 b--black-10\"\n  })), React.createElement(\"p\", {\n    className: \"lh-copy measure center f3 \"\n  }, convertToTimeInterval(time)));\n};","map":{"version":3,"sources":["/Users/joshpitzalis/Desktop/meetbox/pages/meet/index.jsx"],"names":["format","React","Layout","selectTime","convertToTimeInterval","firebase","propTypes","defaultProps","getInitialProps","url","slug","query","firestore","collection","doc","onSnapshot","exists","data","meetings","index","options","JSON","parse","console","log","map","date","time","TimeBox","Date"],"mappings":";;;;AAAA,SAASA,MAAT,QAAuB,UAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAASC,UAAT,QAA2B,yCAA3B;AACA,SAASC,qBAAT,QAAsC,gDAAtC;AACA,OAAOC,QAAP,MAAqB,4BAArB;AAEA,IAAMC,SAAS,GAAG,EAAlB;AAEA,IAAMC,YAAY,GAAG,EAArB;;AAEA,IAAMC,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,iBAAMC,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAChBC,YAAAA,IADgB,GACTD,GAAG,CAACE,KAAJ,CAAUD,IADD;AAAA;AAAA,mBAECL,QAAQ,CAC5BO,SADoB,GAEpBC,UAFoB,CAET,UAFS,EAIpBC,GAJoB,CAIhBJ,IAJgB,EAKpBK,UALoB,CAKT,UAAAD,GAAG;AAAA,qBAAIA,GAAG,CAACE,MAAJ,IAAcF,GAAG,CAACG,IAAJ,EAAlB;AAAA,aALM,CAFD;;AAAA;AAEhBC,YAAAA,QAFgB;AAAA,6CAWf;AAAEA,cAAAA,QAAQ,EAARA;AAAF,aAXe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAfV,eAAe;AAAA;AAAA;AAAA,GAArB;;AAcA,eAAe,SAASW,KAAT,QAAkC;AAAA,MAAjBD,QAAiB,SAAjBA,QAAiB;AAAA,MAAPT,GAAO,SAAPA,GAAO;;AAC/C,MAAMW,OAAO,GAAG,gBAAeC,IAAI,CAACC,KAAL,CAAWJ,QAAQ,CAACE,OAApB,CAAf,CAAhB;;AACA,MAAMV,IAAI,GAAGD,GAAG,CAACE,KAAJ,CAAUD,IAAvB;AAEAa,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBN,QAAxB;AACA,SACE,oBAAC,MAAD,QACE;AAAI,IAAA,SAAS,EAAC;AAAd,sBADF,EAEE;AAAS,IAAA,SAAS,EAAC;AAAnB,KACGE,OAAO,IACNA,OAAO,CAACK,GAAR,CAAY;AAAA;AAAA,QAAEC,IAAF;AAAA,QAAQC,IAAR;;AAAA,WACVA,IAAI,CAACF,GAAL,CAAS,UAAAE,IAAI;AAAA,aAAI,oBAAC,OAAD;AAAS,QAAA,IAAI,EAAED,IAAf;AAAqB,QAAA,IAAI,EAAEC,IAA3B;AAAiC,QAAA,IAAI,EAAEjB;AAAvC,QAAJ;AAAA,KAAb,CADU;AAAA,GAAZ,CAFJ,CAFF,CADF;AAWD;AAEDS,KAAK,CAACb,SAAN,GAAkBA,SAAlB;AACAa,KAAK,CAACZ,YAAN,GAAqBA,YAArB;AACAY,KAAK,CAACX,eAAN,GAAwBA,eAAxB;;AAEA,IAAMoB,OAAO,GAAG,SAAVA,OAAU,QAA0B;AAAA,MAAvBF,IAAuB,SAAvBA,IAAuB;AAAA,MAAjBC,IAAiB,SAAjBA,IAAiB;AAAA,MAAXjB,IAAW,SAAXA,IAAW;AACxC,SACE;AACE,IAAA,SAAS,EAAC,qEADZ;AAEE,IAAA,GAAG,EAAEgB,IAAI,GAAGC,IAFd;AAGE,IAAA,OAAO,EAAE;AAAA,aAAMxB,UAAU,CAACuB,IAAD,EAAOC,IAAP,EAAajB,IAAb,CAAhB;AAAA;AAHX,KAKE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAI,IAAA,SAAS,EAAC;AAAd,KAA6BV,MAAM,CAAC,IAAI6B,IAAJ,CAASH,IAAT,CAAD,EAAiB,SAAjB,CAAnC,CADF,EAEE;AAAI,IAAA,SAAS,EAAC;AAAd,IAFF,CALF,EASE;AAAG,IAAA,SAAS,EAAC;AAAb,KACGtB,qBAAqB,CAACuB,IAAD,CADxB,CATF,CADF;AAeD,CAhBD","sourcesContent":["import { format } from \"date-fns\";\nimport React from \"react\";\nimport Layout from \"../../components/Layout\";\nimport { selectTime } from \"../../features/schedule/helpers/actions\";\nimport { convertToTimeInterval } from \"../../features/schedule/helpers/timeBarHelpers\";\nimport firebase from \"../../sideEffects/firebase\";\n\nconst propTypes = {};\n\nconst defaultProps = {};\n\nconst getInitialProps = async url => {\n  const slug = url.query.slug;\n  const meetings = await firebase\n    .firestore()\n    .collection(\"meetings\")\n\n    .doc(slug)\n    .onSnapshot(doc => doc.exists && doc.data());\n\n  // .catch(error => error);\n\n  return { meetings };\n};\n\nexport default function index({ meetings, url }) {\n  const options = Object.entries(JSON.parse(meetings.options));\n  const slug = url.query.slug;\n\n  console.log(\"meetings\", meetings);\n  return (\n    <Layout>\n      <h1 className=\"f1 tc\">Pick a time...</h1>\n      <section className=\"flex items-center justify-center\">\n        {options &&\n          options.map(([date, time]) =>\n            time.map(time => <TimeBox date={date} time={time} slug={slug} />)\n          )}\n      </section>\n    </Layout>\n  );\n}\n\nindex.propTypes = propTypes;\nindex.defaultProps = defaultProps;\nindex.getInitialProps = getInitialProps;\n\nconst TimeBox = ({ date, time, slug }) => {\n  return (\n    <article\n      className=\"mw5  center bg-white br3 pa3 pa4-ns mv3 ba b--black-10 pointer grow\"\n      key={date + time}\n      onClick={() => selectTime(date, time, slug)}\n    >\n      <div className=\"tc\">\n        <h1 className=\"f4 black-70\">{format(new Date(date), \"do MMMM\")}</h1>\n        <hr className=\"mw3 bb bw1 b--black-10\" />\n      </div>\n      <p className=\"lh-copy measure center f3 \">\n        {convertToTimeInterval(time)}\n      </p>\n    </article>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}