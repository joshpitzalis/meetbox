{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _Object$entries from \"@babel/runtime-corejs2/core-js/object/entries\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport { format } from \"date-fns\";\nimport React from \"react\";\nimport Layout from \"../../components/Layout\";\nimport { convertToTimeInterval } from \"../../features/schedule/helpers/timeBarHelpers\";\nimport firebase from \"../../sideEffects/firebase\";\nvar propTypes = {};\nvar defaultProps = {};\n\nvar getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(url) {\n    var slug, meetings;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            slug = url.query.slug;\n            _context.next = 3;\n            return firebase.firestore().collection(\"meetings\").doc(slug).get().then(function (doc) {\n              return doc.exists && doc.data();\n            }).catch(function (error) {\n              return error;\n            });\n\n          case 3:\n            meetings = _context.sent;\n            return _context.abrupt(\"return\", {\n              meetings: meetings\n            });\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function getInitialProps(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default function index(_ref2) {\n  var url = _ref2.url,\n      meetings = _ref2.meetings,\n      slug = _ref2.slug;\n\n  // {url.query.slug}\n  var options = _Object$entries(JSON.parse(meetings.options));\n\n  return React.createElement(Layout, null, React.createElement(\"h1\", {\n    className: \"f1 tc\"\n  }, \"Pick a time...\"), React.createElement(\"section\", {\n    className: \"flex items-center justify-center\"\n  }, options && options.map(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        date = _ref4[0],\n        time = _ref4[1];\n\n    return React.createElement(\"article\", {\n      className: \"mw5 center bg-white br3 pa3 pa4-ns mv3 ba b--black-10 pointer grow\"\n    }, React.createElement(\"div\", {\n      className: \"tc\"\n    }, React.createElement(\"h1\", {\n      className: \"f4\"\n    }, format(new Date(date), \"do MMMM\")), React.createElement(\"hr\", {\n      className: \"mw3 bb bw1 b--black-10\"\n    })), React.createElement(\"p\", {\n      className: \"lh-copy measure center f6 black-70\"\n    }, convertToTimeInterval(time)));\n  })));\n}\nindex.propTypes = propTypes;\nindex.defaultProps = defaultProps;\nindex.getInitialProps = getInitialProps;","map":{"version":3,"sources":["/Users/joshpitzalis/Desktop/meetbox/pages/meet/index.jsx"],"names":["format","React","Layout","convertToTimeInterval","firebase","propTypes","defaultProps","getInitialProps","url","slug","query","firestore","collection","doc","get","then","exists","data","catch","error","meetings","index","options","JSON","parse","map","date","time","Date"],"mappings":";;;;AAAA,SAASA,MAAT,QAAuB,UAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAASC,qBAAT,QAAsC,gDAAtC;AACA,OAAOC,QAAP,MAAqB,4BAArB;AAEA,IAAMC,SAAS,GAAG,EAAlB;AAEA,IAAMC,YAAY,GAAG,EAArB;;AAEA,IAAMC,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,iBAAMC,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAChBC,YAAAA,IADgB,GACTD,GAAG,CAACE,KAAJ,CAAUD,IADD;AAAA;AAAA,mBAECL,QAAQ,CAC5BO,SADoB,GAEpBC,UAFoB,CAET,UAFS,EAGpBC,GAHoB,CAGhBJ,IAHgB,EAIpBK,GAJoB,GAKpBC,IALoB,CAKf,UAAAF,GAAG;AAAA,qBAAIA,GAAG,CAACG,MAAJ,IAAcH,GAAG,CAACI,IAAJ,EAAlB;AAAA,aALY,EAMpBC,KANoB,CAMd,UAAAC,KAAK;AAAA,qBAAIA,KAAJ;AAAA,aANS,CAFD;;AAAA;AAEhBC,YAAAA,QAFgB;AAAA,6CAUf;AAAEA,cAAAA,QAAQ,EAARA;AAAF,aAVe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAfb,eAAe;AAAA;AAAA;AAAA,GAArB;;AAaA,eAAe,SAASc,KAAT,QAAwC;AAAA,MAAvBb,GAAuB,SAAvBA,GAAuB;AAAA,MAAlBY,QAAkB,SAAlBA,QAAkB;AAAA,MAARX,IAAQ,SAARA,IAAQ;;AACrD;AACA,MAAMa,OAAO,GAAG,gBAAeC,IAAI,CAACC,KAAL,CAAWJ,QAAQ,CAACE,OAApB,CAAf,CAAhB;;AAEA,SACE,oBAAC,MAAD,QACE;AAAI,IAAA,SAAS,EAAC;AAAd,sBADF,EAEE;AAAS,IAAA,SAAS,EAAC;AAAnB,KACGA,OAAO,IACNA,OAAO,CAACG,GAAR,CAAY;AAAA;AAAA,QAAEC,IAAF;AAAA,QAAQC,IAAR;;AAAA,WACV;AAAS,MAAA,SAAS,EAAC;AAAnB,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAI,MAAA,SAAS,EAAC;AAAd,OAAoB3B,MAAM,CAAC,IAAI4B,IAAJ,CAASF,IAAT,CAAD,EAAiB,SAAjB,CAA1B,CADF,EAEE;AAAI,MAAA,SAAS,EAAC;AAAd,MAFF,CADF,EAKE;AAAG,MAAA,SAAS,EAAC;AAAb,OACGvB,qBAAqB,CAACwB,IAAD,CADxB,CALF,CADU;AAAA,GAAZ,CAFJ,CAFF,CADF;AAmBD;AAEDN,KAAK,CAAChB,SAAN,GAAkBA,SAAlB;AACAgB,KAAK,CAACf,YAAN,GAAqBA,YAArB;AACAe,KAAK,CAACd,eAAN,GAAwBA,eAAxB","sourcesContent":["import { format } from \"date-fns\";\nimport React from \"react\";\nimport Layout from \"../../components/Layout\";\nimport { convertToTimeInterval } from \"../../features/schedule/helpers/timeBarHelpers\";\nimport firebase from \"../../sideEffects/firebase\";\n\nconst propTypes = {};\n\nconst defaultProps = {};\n\nconst getInitialProps = async url => {\n  const slug = url.query.slug;\n  const meetings = await firebase\n    .firestore()\n    .collection(\"meetings\")\n    .doc(slug)\n    .get()\n    .then(doc => doc.exists && doc.data())\n    .catch(error => error);\n\n  return { meetings };\n};\n\nexport default function index({ url, meetings, slug }) {\n  // {url.query.slug}\n  const options = Object.entries(JSON.parse(meetings.options));\n\n  return (\n    <Layout>\n      <h1 className=\"f1 tc\">Pick a time...</h1>\n      <section className=\"flex items-center justify-center\">\n        {options &&\n          options.map(([date, time]) => (\n            <article className=\"mw5 center bg-white br3 pa3 pa4-ns mv3 ba b--black-10 pointer grow\">\n              <div className=\"tc\">\n                <h1 className=\"f4\">{format(new Date(date), \"do MMMM\")}</h1>\n                <hr className=\"mw3 bb bw1 b--black-10\" />\n              </div>\n              <p className=\"lh-copy measure center f6 black-70\">\n                {convertToTimeInterval(time)}\n              </p>\n            </article>\n          ))}\n      </section>\n    </Layout>\n  );\n}\n\nindex.propTypes = propTypes;\nindex.defaultProps = defaultProps;\nindex.getInitialProps = getInitialProps;\n"]},"metadata":{},"sourceType":"module"}