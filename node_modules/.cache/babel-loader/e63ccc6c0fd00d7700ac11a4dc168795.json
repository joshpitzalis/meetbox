{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _Object$entries from \"@babel/runtime-corejs2/core-js/object/entries\";\nimport _Object$values from \"@babel/runtime-corejs2/core-js/object/values\";\nimport _Array$isArray from \"@babel/runtime-corejs2/core-js/array/is-array\";\nvar _jsxFileName = \"/Users/joshpitzalis/Desktop/meetbox/features/schedule/components/TimeBar.jsx\";\nimport { format } from \"date-fns\";\nimport { RangeSelector } from \"grommet\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { SecondaryButton } from \"../../../components/Buttons\";\nimport Add from \"../../../static/svg/Add\";\nimport { convertToTimeInterval } from \"../helpers/timeBarHelpers\";\nvar propTypes = {\n  dates: PropTypes.arrayOf(PropTypes.string).isRequired,\n  send: PropTypes.func.isRequired\n};\nvar defaultProps = {};\nObject.defineProperty(Array.prototype, \"flat\", {\n  value: function value() {\n    var depth = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    return this.reduce(function (flat, toFlatten) {\n      return flat.concat(_Array$isArray(toFlatten) && depth > 1 ? toFlatten.flat(depth - 1) : toFlatten);\n    }, []);\n  }\n});\nexport default function TimeBar(_ref) {\n  var dates = _ref.dates,\n      send = _ref.send,\n      setDates = _ref.setDates;\n  var maxTimes = dates && _Object$values(dates) && _Object$values(dates).flat().length >= 3;\n  return React.createElement(\"section\", {\n    className: \"w-100 h-75 tc\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, !maxTimes && React.createElement(\"h1\", {\n    className: \"f1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Select up to 3 times...\"), dates && _Object$entries(dates).map(function (_ref2, dateIndex) {\n    var _ref3 = _slicedToArray(_ref2, 2),\n        date = _ref3[0],\n        times = _ref3[1];\n\n    return React.createElement(\"div\", {\n      key: date + dateIndex,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, times.map(function (time, index) {\n      return React.createElement(TimeBlock, {\n        date: date,\n        setDates: setDates,\n        dates: dates,\n        time: time,\n        timeIndex: index,\n        maxTimes: maxTimes,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      });\n    }));\n  }), !maxTimes && React.createElement(SecondaryButton, {\n    action: function action() {\n      return send(\"ADDED_NEW_DATE\");\n    },\n    text: \"+ Add Another Date\",\n    className: \"mt5 h-25\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }));\n}\nTimeBar.propTypes = propTypes;\nTimeBar.defaultProps = defaultProps;\n\nvar handleNewTime = function handleNewTime(date, setDates, dates) {\n  return setDates(_objectSpread({}, dates, _defineProperty({}, date, [].concat(_toConsumableArray(dates[date]), [[10, 11]]))));\n};\n\nvar handleChangeTime = function handleChangeTime(newTimes, date, setDates, dates, index) {\n  var nextTimes = _toConsumableArray(dates[date]);\n\n  nextTimes[index] = newTimes;\n  return setDates(_objectSpread({}, dates, _defineProperty({}, date, nextTimes)));\n};\n\nvar TimeBlock = function TimeBlock(_ref4) {\n  var time = _ref4.time,\n      date = _ref4.date,\n      setDates = _ref4.setDates,\n      dates = _ref4.dates,\n      timeIndex = _ref4.timeIndex,\n      maxTimes = _ref4.maxTimes;\n  return React.createElement(React.Fragment, null, React.createElement(\"h3\", {\n    className: \"tc mt5 relative top-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, format(new Date(date), \"do MMMM\"), \" \", React.createElement(\"span\", {\n    className: \"f2 pl3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, convertToTimeInterval(time))), React.createElement(\"div\", {\n    className: \"h3 ma3 flex\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"w-100 pt0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"flex justify-around relative top-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, new Array(25).fill(\"\").map(function (value, index) {\n    if (index === 0 && !maxTimes) {\n      return React.createElement(\"div\", {\n        key: index,\n        className: \"bn flex items-center justify-center w-100 z-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(Add, {\n        className: \"grow pb2 pointer gray\",\n        onClick: function onClick() {\n          return handleNewTime(date, setDates, dates);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }));\n    }\n\n    return React.createElement(\"div\", {\n      key: index,\n      className: \"bn tc w-100 \".concat((index <= 5 || index >= 20) && \"bg-light-gray\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"code pb2 tc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, index));\n  })), React.createElement(RangeSelector, {\n    values: time,\n    min: 0,\n    max: 24,\n    step: 1,\n    color: \"#7D52D8\",\n    className: \"relative  bottom-2 pt1\",\n    onChange: function onChange(newTimes) {\n      return handleChangeTime(newTimes, date, setDates, dates, timeIndex);\n    },\n    round: \"small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }))));\n};","map":{"version":3,"sources":["/Users/joshpitzalis/Desktop/meetbox/features/schedule/components/TimeBar.jsx"],"names":["format","RangeSelector","PropTypes","React","SecondaryButton","Add","convertToTimeInterval","propTypes","dates","arrayOf","string","isRequired","send","func","defaultProps","Object","defineProperty","Array","prototype","value","depth","reduce","flat","toFlatten","concat","TimeBar","setDates","maxTimes","length","map","dateIndex","date","times","time","index","handleNewTime","handleChangeTime","newTimes","nextTimes","TimeBlock","timeIndex","Date","fill"],"mappings":"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","sourcesContent":["import { format } from \"date-fns\";\nimport { RangeSelector } from \"grommet\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { SecondaryButton } from \"../../../components/Buttons\";\nimport Add from \"../../../static/svg/Add\";\nimport { convertToTimeInterval } from \"../helpers/timeBarHelpers\";\n\nconst propTypes = {\n  dates: PropTypes.arrayOf(PropTypes.string).isRequired,\n  send: PropTypes.func.isRequired\n};\nconst defaultProps = {};\n\nObject.defineProperty(Array.prototype, \"flat\", {\n  value: function(depth = 1) {\n    return this.reduce(function(flat, toFlatten) {\n      return flat.concat(\n        Array.isArray(toFlatten) && depth > 1\n          ? toFlatten.flat(depth - 1)\n          : toFlatten\n      );\n    }, []);\n  }\n});\n\nexport default function TimeBar({ dates, send, setDates }) {\n  const maxTimes =\n    dates && Object.values(dates) && Object.values(dates).flat().length >= 3;\n\n  return (\n    <section className=\"w-100 h-75 tc\">\n      {!maxTimes && <h1 className=\"f1\">Select up to 3 times...</h1>}\n      {dates &&\n        Object.entries(dates).map(([date, times], dateIndex) => {\n          return (\n            <div key={date + dateIndex}>\n              {times.map((time, index) => (\n                <TimeBlock\n                  date={date}\n                  setDates={setDates}\n                  dates={dates}\n                  time={time}\n                  timeIndex={index}\n                  maxTimes={maxTimes}\n                />\n              ))}\n            </div>\n          );\n        })}\n\n      {!maxTimes && (\n        <SecondaryButton\n          action={() => send(\"ADDED_NEW_DATE\")}\n          text=\"+ Add Another Date\"\n          className=\"mt5 h-25\"\n        />\n      )}\n    </section>\n  );\n}\n\nTimeBar.propTypes = propTypes;\nTimeBar.defaultProps = defaultProps;\n\nconst handleNewTime = (date, setDates, dates) =>\n  setDates({ ...dates, [date]: [...dates[date], [10, 11]] });\n\nconst handleChangeTime = (newTimes, date, setDates, dates, index) => {\n  const nextTimes = [...dates[date]];\n  nextTimes[index] = newTimes;\n  return setDates({\n    ...dates,\n    [date]: nextTimes\n  });\n};\n\nconst TimeBlock = ({ time, date, setDates, dates, timeIndex, maxTimes }) => {\n  return (\n    <>\n      <h3 className=\"tc mt5 relative top-2\">\n        {format(new Date(date), \"do MMMM\")}{\" \"}\n        <span className=\"f2 pl3\">{convertToTimeInterval(time)}</span>\n      </h3>\n      <div className=\"h3 ma3 flex\">\n        <div className=\"w-100 pt0\">\n          <div className=\"flex justify-around relative top-2\">\n            {new Array(25).fill(\"\").map((value, index) => {\n              if (index === 0 && !maxTimes) {\n                return (\n                  <div\n                    key={index}\n                    className={`bn flex items-center justify-center w-100 z-1`}\n                  >\n                    <Add\n                      className=\"grow pb2 pointer gray\"\n                      onClick={() => handleNewTime(date, setDates, dates)}\n                    />\n                  </div>\n                );\n              }\n              return (\n                <div\n                  key={index}\n                  className={`bn tc w-100 ${(index <= 5 || index >= 20) &&\n                    \"bg-light-gray\"}`}\n                >\n                  <p className={`code pb2 tc`}>{index}</p>\n                </div>\n              );\n            })}\n          </div>\n          <RangeSelector\n            values={time}\n            min={0}\n            max={24}\n            step={1}\n            color=\"#7D52D8\"\n            className=\"relative  bottom-2 pt1\"\n            onChange={newTimes =>\n              handleChangeTime(newTimes, date, setDates, dates, timeIndex)\n            }\n            round=\"small\"\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}