!function(n,r,t){"use strict";var o=function(){return(o=Object.assign||function(n){for(var e,r=1,t=arguments.length;r<t;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}).apply(this,arguments)};function i(n,e){var r="function"==typeof Symbol&&n[Symbol.iterator];if(!r)return n;var t,o,i=r.call(n),c=[];try{for(;(void 0===e||0<e--)&&!(t=i.next()).done;)c.push(t.value)}catch(n){o={error:n}}finally{try{t&&!t.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return c}function c(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(i(arguments[e]));return n}function e(n){return e=n,new r.Observable(function(n){return{unsubscribe:e.onSnapshot(n)}});var e}function u(n){return e(n)}function d(n){return e(n)}function a(n){return u(n)}function f(n,e){var r;return o({},n.data(),e?((r={})[e]=n.id,r):null)}var l=["added","modified","removed"],p=function(o){return t.filter(function(n){for(var e=!1,r=0;r<n.length;r++){var t=n[r];if(o&&0<=o.indexOf(t.type)){e=!0;break}}return e})},s=t.filter(function(n){return 0<n.length});function x(n,e){return void 0===e&&(e=l),d(n).pipe(t.map(function(n){return n.docChanges()}),p(e),s)}function v(n){return d(n).pipe(t.map(function(n){return n.docs}))}n.auditTrail=function(n,e){return x(n,e).pipe(t.scan(function(n,e){return c(n,e)},[]))},n.collection=v,n.collectionChanges=x,n.collectionData=function(n,e){return v(n).pipe(t.map(function(n){return n.map(function(n){return f(n,e)})}))},n.doc=a,n.docData=function(n,e){return a(n).pipe(t.map(function(n){return f(n,e)}))},n.fromCollectionRef=d,n.fromDocRef=u,n.fromRef=e,n.snapToData=f,n.sortedChanges=function(n,o){return x(n,o).pipe(t.scan(function(n,e){return r=n,void 0===(t=o)&&(t=l),e.forEach(function(n){-1<t.indexOf(n.type)&&(r=function(n,e){switch(e.type){case"added":n[e.newIndex]&&n[e.newIndex].doc.id===e.doc.id||n.splice(e.newIndex,0,e);break;case"modified":null!=n[e.oldIndex]&&n[e.oldIndex].doc.id!==e.doc.id||(e.oldIndex!==e.newIndex?(n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e)):n[e.newIndex]=e);break;case"removed":n[e.oldIndex]&&n[e.oldIndex].doc.id===e.doc.id&&n.splice(e.oldIndex,1)}return n}(r,n))}),r;var r,t},[]))}}(this.rxfire=this.rxfire||{},rxjs,rxjs.operators);
//# sourceMappingURL=rxfire-firestore.js.map
