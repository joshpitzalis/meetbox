(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(e,t,a){e.exports=a(273)},271:function(e,t,a){},273:function(e,t,a){"use strict";a.r(t);var n=a(285),c=a(0),r=a.n(c),i=a(126),o=a.n(i),s=a(144),l=a(25),u=a(17),m=a.n(u),f=a(30),d=a(20),p=a(15),b=a(127),E=a(283),v=a(85),h=a(284),w=a(26),g=function(e,t,a){var n=new Date(new Date(t).setHours(0,0,0,0));if(e&&e.hasOwnProperty(n)){var c=Object(w.a)({},e);return delete c[n],a(c)}return a(Object(w.a)({},e,Object(d.a)({},n,[[13,14]])))};function j(e){var t=e.handleSelect,a=e.dates;return r.a.createElement("section",{className:"center ma4"},r.a.createElement(h.a,{onSelect:function(e){return g(a,e,t)},size:"medium",showAdjacentDays:!0,animate:!0,dates:Object.keys(a)}))}j.defaultProps={};var N=function(e){var t=e.action,a=e.text,n=e.className;return r.a.createElement("button",{className:"pointer f6 grow no-underline br-pill b--navy ph3 pv2 mb2 dib white bg-navy ttu ".concat(n),onClick:t},a)},O=function(e){var t=e.action,a=e.text,n=e.className;return r.a.createElement("button",{className:"pointer f6 grow  bn  ph3 pv2 mb2 dib gray ttu ".concat(n),onClick:t},a)},y=a(49),D=a(286),x=a(281),k=a(282),S=a(81),M=function(e){var t=e[0],a=e[1],n=function(e){return e>12?"".concat(e-12," pm"):"".concat(e," am")};return"".concat(n(t)," to ").concat(n(a))},I=function(e){var t=e.time,a=e.date,n=e.setDates,c=e.dates,i=e.timeIndex,o=e.maxTimes;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"tc mt5 relative top-2"},Object(y.format)(new Date(a),"do MMMM")," ",r.a.createElement("span",{className:"f2 pl3"},M(t))),r.a.createElement("div",{className:"h3 ma3 flex"},r.a.createElement("div",{className:"w-100 pt0"},r.a.createElement("div",{className:"flex justify-around relative top-2"},new Array(25).fill("").map(function(e,t){return 0===t&&o?r.a.createElement("div",{key:t,className:"bn flex items-center justify-center w-100 z-1"},r.a.createElement(x.a,{className:"grow pb2 pointer gray",onClick:function(){return function(e,t,a,n){if(1===a[e].length){var c=Object(w.a)({},a);return delete c[e],t(c)}var r=a[e].filter(function(e,t){return t!==n});return console.log("nextTimes",r),t(Object(w.a)({},a,Object(d.a)({},e,r)))}(a,n,c,i)}})):0===t?r.a.createElement("div",{key:t,className:"bn flex items-center justify-center w-100 z-1"},r.a.createElement(k.a,{className:"grow pb2 pointer gray",onClick:function(){return function(e,t,a){return t(Object(w.a)({},a,Object(d.a)({},e,[].concat(Object(S.a)(a[e]),[[10,11]]))))}(a,n,c)}})):r.a.createElement("div",{key:t,className:"bn tc w-100 ".concat((t<=5||t>=20)&&"bg-light-gray")},r.a.createElement("p",{className:"code pb2 tc"},t))})),r.a.createElement(D.a,{values:t,min:0,max:24,step:1,color:"#7D52D8",className:"relative  bottom-2 pt1",onChange:function(e){return function(e,t,a,n,c){var r=Object(S.a)(n[t]);return r[c]=e,a(Object(w.a)({},n,Object(d.a)({},t,r)))}(e,a,n,c,i)},round:"small"}))))};function C(e){var t=e.dates,a=e.send,n=e.setDates,c=t&&Object.values(t).reduce(function(e,t){return e.concat(t)},[]).length>=3;return r.a.createElement("section",{className:"w-100 h-75 tc"},!c&&r.a.createElement("h1",{className:"f1"},"Select up to 3 times..."),t&&Object.entries(t).map(function(e,a){var i=Object(p.a)(e,2),o=i[0],s=i[1];return r.a.createElement("div",{key:+new Date},s.map(function(e,a){return r.a.createElement(I,{date:o,setDates:n,dates:t,time:e,timeIndex:a,maxTimes:c})}))}),!c&&r.a.createElement(O,{action:function(){return a("ADDED_NEW_DATE")},text:"+ Add Another Date",className:"mt5 h-25"}))}C.defaultProps={};var A=a(78),_=a.n(A),T=(a(268),_.a.initializeApp({apiKey:"AIzaSyD0_c1V4vvrHVwVD941n_KLnbj55f0c5gI",authDomain:"decision-dev.firebaseapp.com",databaseURL:"https://decision-dev.firebaseio.com",projectId:"decision-dev",storageBucket:"decision-dev.appspot.com",messagingSenderId:"1006893299756",appId:"1:1006893299756:web:0581850d4e51ba77"}),_.a.firestore()),F=function(){var e=Object(f.a)(m.a.mark(function e(t){var a,n,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n=JSON.stringify(a),c=Math.random().toString(36).slice(-5),e.next=5,T.collection("meetings").doc(c).set({options:n}).catch(function(e){return e});case 5:return e.abrupt("return",c);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(f.a)(m.a.mark(function e(t,a,n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.collection("meetings").doc(n).update({time:a,date:t}).catch(function(e){return e}));case 1:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),P=Object(v.a)({id:"schedule",initial:"calendar",context:{},states:{calendar:{on:{CONFIRMED_DATES:"times"}},times:{on:{CONFIRMED_TIMES:"loading",ADDED_NEW_DATE:"calendar"}},loading:{invoke:{id:"createMeeting",src:function(e,t){return F(t)},onDone:{target:"ready"},onError:{target:"failure"}}},ready:{on:{SELECTED_A_DATE:"confirmed"}},confirmed:{type:"final"},failure:{type:"final"}}}),R=function(e){var t=e.history,a=new Date(new Date((new Date).setDate((new Date).getDate()+1)).setHours(0,0,0,0)),n=Object(c.useState)(Object(d.a)({},a,[[13,14]])),i=Object(p.a)(n,2),o=i[0],s=i[1],l=Object(b.useMachine)(P),u=Object(p.a)(l,2),v=u[0],h=u[1],w=Object(c.useState)({}),g=Object(p.a)(w,2),N=(g[0],g[1]);return Object(c.useEffect)(function(){function e(){return(e=Object(f.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.collection("meetings").get().then(function(e){var t=e.docs.map(function(e){return e.data()});N(t)}).catch(function(e){return e});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),r.a.createElement("section",null,r.a.createElement("section",{className:"vh-100 vw-100 flex flex-column items-center justify-around pa0 ma0"},"calendar"===v.value&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"f1"},"Pick up to 3 dates to meet..."),r.a.createElement(j,{handleSelect:s,dates:o}),r.a.createElement(E.a,{onClick:function(){return h("CONFIRMED_DATES")},className:"pointer grow"})),"times"===v.value&&r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{dates:o,send:h,setDates:s}),r.a.createElement(E.a,{onClick:function(){return h({type:"CONFIRMED_TIMES",payload:o})},className:"pointer grow gray"})),"ready"===v.value&&t.push("/meet/".concat(v.event.data))))},J=function(e){var t=e.match,a=r.a.useState(!1),n=Object(p.a)(a,2),c=n[0],i=n[1],o=t.params.meetId;r.a.useEffect(function(){!function(){var e=Object(f.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.collection("meetings").doc(o).get().then(function(e){return e.exists&&e.data()}).then(function(e){console.log("meetings",e),i(e),y(!0),e.date&&e.time&&w(!0)}).catch(function(e){return e});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[o]);var s=c&&Object.entries(JSON.parse(c.options)),l=r.a.useState(!1),u=Object(p.a)(l,2),d=u[0],b=u[1],E=r.a.useState(!1),v=Object(p.a)(E,2),h=v[0],w=v[1],g=r.a.useState(!1),j=Object(p.a)(g,2),O=j[0],y=j[1];return r.a.createElement("section",null,r.a.createElement("div",{className:"flex flex-column items-between justify-center h-100"},O&&h?r.a.createElement("h1",{className:"f1 tc"},"Confirmed"):O?r.a.createElement("h1",{className:"f1 tc"},"Pick a time..."):r.a.createElement("h1",{className:"f1 tc"},"Loading..."),r.a.createElement("section",{className:"flex items-center justify-center vh-50"},s&&s.map(function(e){var t=Object(p.a)(e,2),a=t[0];return t[1].map(function(e){return r.a.createElement(L,{date:a,time:e,slug:o,setSelected:b,selected:c.date&&c.time?{date:c.date,time:c.time}:d})})})),d&&!h&&r.a.createElement("div",{className:"tc w-100"},r.a.createElement(N,{text:"Confirm",action:function(){z(d.date,d.time,o),w(!0)}}))))},L=function(e){var t=e.date,a=e.time,n=e.setSelected,c=e.selected,i=t===c.date&&a[0]===c.time[0]&&a[1]===c.time[1];return r.a.createElement("article",{className:"mw5 center br3 pa3 pa4-ns mv3 ba b--black-10 pointer grow ".concat(i?"bg-light-blue":"bg-white"),key:t+a,onClick:function(){return n({date:t,time:a})}},r.a.createElement("div",{className:"tc"},r.a.createElement("h1",{className:"f4 black-70"},Object(y.format)(new Date(t),"do MMMM")),r.a.createElement("hr",{className:"mw3 bb bw1 b--black-10"})),r.a.createElement("p",{className:"lh-copy measure center f3 "},M(a)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(271);o.a.render(r.a.createElement(function(){return r.a.createElement(n.a,{plain:!0},r.a.createElement(s.a,null,r.a.createElement("main",{className:"sans-serif"},r.a.createElement(l.a,{exact:!0,path:"/",component:R}),r.a.createElement(l.a,{exact:!0,path:"/meet/:meetId",component:J}))))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[150,1,2]]]);
//# sourceMappingURL=main.c01500fc.chunk.js.map